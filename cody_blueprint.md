cody_blueprint.md
Cody Blueprint: 프로젝트 메티스 (Project Metis)

프로젝트 개요
'프로젝트 메티스'는 사용자의 독서 경험을 **'지식의 복리 엔진'**으로 전환하기 위한 개인화 웹 애플리케이션입니다. **'질문 → 학습 → 체화'**의 유기적인 사이클을 통해 지식을 습득하고, 그 지식의 생명 주기를 '망각 곡선' 이론에 기반하여 과학적으로 시각화하고 관리하는 것을 목표로 합니다. 사용자는 이 시스템을 통해 지식을 정원처럼 가꾸는 동시에, 데이터 기반의 전략가로서 자신의 기억을 최적화하는 경험을 하게 됩니다.

파일 구조
index.html: 애플리케이션의 전체적인 구조와 UI 요소를 정의합니다. JavaScript 모듈과 외부 라이브러리(Chart.js)를 로드합니다.

/js/main.js: 애플리케이션의 진입점(Entry Point)으로서, 각 모듈을 초기화하고 뷰 전환 등 핵심 이벤트를 관리합니다.

/js/ui.js: UI 렌더링을 전담하는 모듈. '지식 정원', '기억 곡선 대시보드', '지식 정제소'의 동적 생성을 담당합니다.

/js/metisSession.js: '메티스 세션'의 8단계 학습 사이클 로직을 관리하며, 세션 중 '지식 조각(클리핑)'을 수집하여 '지식 정제소'로 보내는 역할을 합니다.

/js/ebbinghaus.js: '지식 정원'과 '기억 곡선 대시보드'의 모든 핵심 로직을 관리합니다. 식물의 상태 계산, 데이터 시각화, 복습 세션 진행 등을 담당합니다.

/js/refinement.js: (신규) 자청의 다회독 독서법과 에빙하우스 망각곡선 이론을 결합한 '지식 정제소' 시스템. 1일, 7일, 30일 주기로 잠금 해제되는 4단계 지식 정제 프로세스를 관리합니다.

/js/goalNavigator.js: 사용자가 입력한 책과 챕터 제목을 기반으로, Gemini API를 호출하여 3가지 레벨의 학습 목표(퀘스트)를 생성하고 제안하는 로직을 관리합니다.

/js/bookExplorer.js: Google Books API를 사용하여 책을 검색하고 선택하는 'AI 도서 탐색기' 로직을 관리합니다.

/js/api.js: 외부 API(Google Books, Gemini)와의 통신을 담당합니다.

/functions/index.js: Firebase Cloud Functions 백엔드 로직. Gemini API와 연동하여 'AI 목표 설계자' 기능을 수행하는 서버리스 함수를 포함합니다.

변경 기록
2025-09-27 v9.0: 자청 독서법 시스템화. 에빙하우스 이론에 기반한 4단계 '지식 정제소' 기능 도입. 세션 중 '클리핑' 기능 추가, 1-7-30일 주기로 잠금 해제되는 '하이라이팅' 및 '생각 연결' 리뷰 프로세스를 통해 최종 지식만 정원에 심도록 구현.

2025-09-27 v8.0: '지식 정원' 본질 강화. 에빙하우스 망각 곡선 그래프, 미래 기억 시뮬레이션, 상태 분석 기능을 포함한 '기억 곡선 대시보드' 도입. 기억 강도에 따라 질문이 진화하는 '3단계 챌린지 시스템'과 '자신감 평가' 기능을 추가하여 메타인지 강화.

2025-09-27 v7.0: '전략적 고정값' 시스템 및 '강제 휴식' 기능 도입. metisSession.js에 COURSE_PRESETS을 추가하여 코스별 시간 배분을 자동화하고, 25분 이상 학습 시 5분 휴식 단계를 추가하여 학습 효율을 극대화. 60분 이상 코스에 '심화 예측' 옵션 제공.

2025-09-27 v6.0: 'AI 목표 설계자' 기능 도입. goalNavigator.js의 AI 목표 생성 로직을 Firebase Functions와 Gemini API를 사용하도록 전면 개편. 기존의 불안정한 목표 추천 기능을 대체하여 사용자가 직접 입력한 챕터 정보를 바탕으로 정교한 3-Level 학습 목표를 생성하는 기능 추가.

2025-09-27 v5.3: 새 Firebase 프로젝트(metisv2) 생성에 따라 js/firebase.js의 firebaseConfig 정보 업데이트. 관련 초기 설정 가이드 문서 생성.

2025-09-27 v5.2: goalNavigator.js에서 발생하는 모듈 로드 오류 수정. firebase.js에 functions 초기화 및 export 구문 추가.

2025-09-27 v5.1: 탭 전환 기능이 동작하지 않던 js/ui.js 파일의 구문 오류 수정.

2025-09-27 v5: 개별 지식의 망각 곡선을 시각화하고 미래 기억 상태를 예측하는 '기억 곡선 대시보드' 기능 추가. Chart.js 라이브러리 도입 및 ebbinghaus.js, ui.js 로직 대폭 수정.

2025-09-27 v4: '에빙하우스' 탭을 사용자의 기억 상태를 시각화하고 관리하는 '지식 정원'으로 전면 리모델링. 메타인지 강화를 위한 '자신감 평가' 및 '진화하는 챌리지' 기능 도입. '메티스 세션'의 최종 단계를 '씨앗 심기'로 재설계하여 정원과의 연계성 구축.

2025-09-27 v3: JavaScript 파일을 기능별 모듈(ui.js, metisSession.js, ebbinghaus.js, api.js, main.js 등)으로 분리하여 유지보수성 및 확장성 향상.

2025-09-27 v2: '에빙하우스' 탭 초기 버전 추가. 능동적 복습을 위한 3가지 유형의 챌린지 기능 UI 및 가상 로직 구현.

2025-09-27 v1: 프로젝트 초기 스캐폴딩. index.html, style.css, app.js 파일 생성 및 핵심 기능의 기본 구조와 가상 AI 로직 구현.