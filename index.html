<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Metis: Knowledge Compounding Engine</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <h1>Project Metis</h1>
            <nav>
                <button class="nav-btn active" data-view="dashboard">
                    <span class="icon">🏠</span> 대시보드
                </button>
                <button class="nav-btn" data-view="storage">
                    <span class="icon">📦</span> 지식 타임캡슐
                </button>
            </nav>
        </aside>

        <main class="main-content">
            <!-- ============== 대시보드 뷰 ============== -->
            <div id="dashboard" class="view active">
                <header class="view-header">
                    <h2>오늘의 지식 탐험</h2>
                    <p>메인북을 중심으로 새로운 지식을 탐험하고, 당신의 자산으로 만드세요.</p>
                </header>

                <div class="dashboard-grid">
                    <div id="main-book-slot" class="main-book-slot card">
                        <h3>📘 메인북</h3>
                        <div class="book-info">
                            <img src="https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1593003033l/54495910.jpg" alt="넛지 책 표지" class="book-cover">
                            <div class="book-details">
                                <h4>넛지 (Nudge)</h4>
                                <p>리처드 H. 탈러, 캐스 R. 선스타인</p>
                                <div id="main-book-goal" class="goal">
                                    <strong>🎯 현재 목표 (레벨 2)</strong>
                                    <p>선택 설계의 3요소(디폴트, 피드백, 오류 예상)를 설명하고, 실생활 사례 1가지씩 찾아보기.</p>
                                </div>
                            </div>
                        </div>
                        <button id="start-session-btn" class="btn btn-primary">새로운 지식 탐험하기 (메티스 세션)</button>
                    </div>
                    <div class="ai-assistant-slot card">
                        <h3>🤖 AI 목표 내비게이터</h3>
                        <p>책을 통해 무엇을 얻고 싶으신가요? AI가 최적의 학습 목표 설정을 도와드립니다.</p>
                        <div class="book-title-input">
                            <label for="book-title-for-goal">대상 도서:</label>
                            <input type="text" id="book-title-for-goal" value="넛지 (Nudge)" placeholder="책 제목을 입력하세요">
                        </div>
                        <button id="start-goal-navigator-btn" class="btn">AI 목표 설정 시작하기</button>
                    </div>
                    <div class="sub-book-shelf-container card">
                        <h3>📚 관심 서재 (서브북)</h3>
                        <div class="sub-book-shelf">
                            <img src="https://image.aladin.co.kr/product/30883/29/cover500/k252830635_1.jpg" alt="책 표지1" class="sub-book-cover"><img src="https://image.aladin.co.kr/product/10/3/cover500/8932917248_2.jpg" alt="책 표지2" class="sub-book-cover"><img src="https://image.aladin.co.kr/product/33359/29/cover500/k252938250_1.jpg" alt="책 표지3" class="sub-book-cover"><img src="https://image.aladin.co.kr/product/1324/3/cover500/890120935x_1.jpg" alt="책 표지4" class="sub-book-cover"><img src="https://image.aladin.co.kr/product/29306/17/cover500/s972837389_1.jpg" alt="책 표지5" class="sub-book-cover">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ============== 지식 타임캡슐 뷰 ============== -->
            <div id="storage" class="view">
                <header class="view-header">
                    <h2>📦 지식 타임캡슐</h2>
                    <p>당신의 모든 지식 자산이 보관되어 있습니다. 개봉일이 되면 자동으로 잠금 해제됩니다.</p>
                </header>
                <div class="storage-controls card">
                    <button class="btn filter-btn active" data-filter="unlocked">🔑 오늘의 복습</button>
                    <button class="btn filter-btn" data-filter="all">📂 전체 캡슐</button>
                    <button class="btn filter-btn" data-filter="locked">🔒 잠긴 캡슐</button>
                </div>
                <div id="storage-container" class="storage-container">
                    <!-- 캡슐들이 여기에 렌더링됩니다. -->
                </div>
            </div>

            <!-- ============== 메티스 세션 뷰 ============== -->
            <div id="metis-session" class="view">
                 <header class="view-header">
                     <button id="back-to-dashboard-btn" class="btn btn-secondary">← 뒤로가기</button>
                     <h2>🧠 메티스 학습 세션</h2>
                     <p id="step-title">단계 1: 학습 예측</p>
                 </header>
                 <div class="session-content">
                     <!-- 단계 1: 예측 -->
                     <div id="step-1" class="step active card">
                         <div id="session-goal-display" class="goal-display card"></div>
                         <h4>[1단계] 학습 예측 (Prediction)</h4>
                         <p>위 목표와 관련하여 책에서 어떤 내용을 다룰 것 같습니까? 핵심 내용을 예측해보세요.</p>
                         <textarea id="prediction-input" placeholder="예: 넛지의 개념을 설명하고, 사람들의 비합리적 선택을 유도하는 사례를 보여줄 것 같다."></textarea>
                         <button class="btn btn-primary next-step-btn" data-next="2">예측 완료, 집중 독서 시작</button>
                     </div>

                     <!-- 단계 2: 집중 독서 -->
                     <div id="step-2" class="step card">
                         <h4>[2단계] 집중 독서 (Focused Reading)</h4>
                         <p>이제 25분간 목표에만 집중하여 책을 읽습니다. 몰입을 위해 방해 요소를 제거하세요.</p>
                         <div id="timer">25:00</div>
                         <button class="btn btn-primary next-step-btn" data-next="3">독서 완료, 핵심 인출하기</button>
                     </div>

                     <!-- 단계 3: 핵심 인출 -->
                     <div id="step-3" class="step card">
                         <h4>[3단계] 핵심 내용 인출 (Brain Dump)</h4>
                         <p>방금 읽은 내용의 핵심을 당신의 언어로 요약하고 재구성하세요. 완벽하지 않아도 괜찮습니다.</p>
                         <textarea id="braindump-input" placeholder="떠오르는 키워드, 개념, 문장 등을 자유롭게 기록하세요."></textarea>
                         <button class="btn btn-primary next-step-btn" data-next="4">인출 완료, 체화 글쓰기 시작</button>
                     </div>
                     
                     <!-- 단계 4: 체화 글쓰기 -->
                     <div id="step-4" class="step card">
                         <h4>[4단계] 완벽한 체화를 위한 글쓰기</h4>
                         <p>축하합니다! 이제 마지막 단계입니다. 3단계에서 인출한 내용을 바탕으로, 최초 목표에 대한 답을 설명하는 한 편의 글을 완성하세요. 이 글이 당신의 지식 타임캡슐이 됩니다.</p>
                         <textarea id="final-writing-input" class="final-writing" placeholder="오늘 배운 내용을 다른 사람에게 설명하듯 자유롭게 글을 작성해보세요."></textarea>
                         <button id="finish-session-btn" class="btn btn-primary">글쓰기 완료, 지식 타임캡슐 봉인</button>
                     </div>
                 </div>
            </div>
        </main>
    </div>

    <!-- ============== 모달 창들 ============== -->
    <div id="challenge-modal-overlay" class="modal-overlay">
        <div id="challenge-modal" class="modal-content"></div>
    </div>
    <div id="goal-navigator-modal-overlay" class="modal-overlay">
        <div id="goal-navigator-modal" class="modal-content">
            <div id="goal-navigator-content"></div>
        </div>
    </div>
    <div id="loader" class="loader-overlay">
        <div class="loader"></div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
    